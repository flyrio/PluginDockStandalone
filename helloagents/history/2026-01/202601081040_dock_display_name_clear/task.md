# 方案任务: 修复显示名称清空残留字符

范围: `helloagents/plan/202601081040_dock_display_name_clear/`

---

## 1. 修复输入解码
- [√] 1.1 在 `PluginDock.cs` 新增 UTF-8 缓冲解码助手，截断到首个 '\0'，依据 why.md#需求背景 与 why.md#风险与边界
- [√] 1.2 修改 `InputTextUtf8` 与 `InputTextMultilineUtf8` 使用新解码，确保全选删除返回空字符串，依据 why.md#验收标准
- [-] 1.3 验证显示名称与自定义图标路径输入在清空时返回空字符串，依据 why.md#验收标准
  > 备注: 需要在游戏内手动验证

## 2. 图标路径清空回退
- [√] 2.1 在自定义图标路径保存逻辑中，空值按未设置处理并清理缓存，依据 why.md#需求范围 与 why.md#验收标准
- [-] 2.2 手动验证：设置自定义图标路径后清空，显示原始图标，依据 why.md#验收标准
  > 备注: 需要在游戏内手动验证

## 3. 行为验证
- [-] 3.1 手动验证：显示名称清空后显示原名，不出现残留字符，依据 why.md#验收标准
  > 备注: 需要在游戏内手动验证

## 4. 回归检查
- [-] 4.1 回归检查搜索/命令等输入框，确认无异常截断，依据 why.md#风险与边界
  > 备注: 需要在游戏内手动验证

## 5. 文档更新
- [√] 5.1 更新 `helloagents/wiki/modules/plugindock.md` 记录修复摘要
- [√] 5.2 更新 `helloagents/CHANGELOG.md` 记录修复
